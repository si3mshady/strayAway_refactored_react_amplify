(this.webpackJsonpstray_away_refactor_amplify=this.webpackJsonpstray_away_refactor_amplify||[]).push([[0],{11:function(e,t,a){},26:function(e,t){},483:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),i=a(58),s=a.n(i),o=(a(11),a(59)),r=a.p+"static/media/tld.682e269e.png",l=a(2);function u(){var e=c.a.useRef();return Object(l.jsxs)("div",{className:"mainframe",children:[Object(l.jsx)("div",{className:"mainframe__imageframe",children:Object(l.jsx)("div",{className:"mainframe__imageframe--image",children:Object(l.jsx)("img",{className:"thumbnail-gen",ref:e,src:r,id:"img",alt:"camera phone"})})}),Object(l.jsx)(o.a,{imgRef:e})]})}var d=function(){return Object(l.jsx)("div",{className:"mainFrame",children:Object(l.jsx)(u,{})})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root"))},59:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return g}));var n=a(18),c=a(10),i=a(4),s=a.n(i),o=(a(11),a(27)),r=a.n(o),l=a(60),u=a.n(l),d=a(61),m=a(9),j=a.n(m),f=a(2);j.a.config.region="us-east-1",j.a.config.credentials=new j.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-1:7e4257c7-b198-4dfb-806c-b5b1cff0d337"});var b={latitude:null,longitude:null,speed:null,timestamp:null};function g(t){var a=t.imgRef,o=Object(i.useRef)(),l=s.a.useState([b]),m=Object(c.a)(l,2),g=m[0],p=m[1],O=s.a.useState([]),h=Object(c.a)(O,2),v=h[0],x=h[1],y=s.a.useState(!1),_=Object(c.a)(y,2),w=_[0],N=_[1],R=s.a.useState(Object(n.a)(g)),S=Object(c.a)(R,2),k=S[0],B=S[1],C=s.a.useState("deployments-si3mshady"),L=Object(c.a)(C,1)[0],D=new j.a.Rekognition,I=function(e){p([{latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:(new Date).toISOString()}])};s.a.useEffect((function(){navigator.geolocation.getCurrentPosition(I)}),[w]),s.a.useEffect((function(){u.a.post("https://72zu52q14g.execute-api.us-east-1.amazonaws.com/dev/tracker",k).then((function(e){console.log(e),console.log("updated gpsHistory")})).catch((function(e){console.log(e)}))}),[g,v]);var E=function(t){var a=t,n=new FileReader;n.onloadend=function(){console.log("RESULT",n.result);var t=new j.a.S3({params:{Bucket:L}}),c=e.from(n.result.replace(/^data:image\/\w+;base64,/,""),"base64");!function(e){var t={Image:{Bytes:e}};D.detectLabels(t,(function(e,t){if(e)console.log(e);else{var a=t.Labels.slice(0,3);console.log(t),console.log(a),x(a)}}))}(c);var i={Key:a.name,Body:c,ContentEncoding:"base64",ContentType:"image/jpeg"};t.putObject(i,(function(e,t){e?(console.log(e),console.log("Error uploading data: ",t)):console.log("succesfully uploaded the image!")}))},n.readAsDataURL(a)};return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"containerButtons",children:Object(f.jsxs)("div",{className:"containerButtons__row",children:[Object(f.jsx)("div",{className:"containerButtons__row--col",children:Object(f.jsxs)("button",{onClick:function(e){return r()("input").click(),N(!w),B((function(e){return[].concat(Object(n.a)(e),Object(n.a)(g))})),void console.log(k)},className:"theGlow",children:[Object(f.jsx)("i",{class:"fas fa-camera"}),Object(f.jsx)("form",{action:"#",id:"form",encType:"multipart/form-data",children:Object(f.jsx)("input",{hidden:!0,ref:o,onClick:function(e){r()("#camera").on("change",(function(e){var t=e.target.files[0];E(t),console.log("newImagevariable",t.name),null!==t&&(a.current.src=window.URL.createObjectURL(t))}))},type:"file",id:"camera",accept:"image/*",capture:!0})})]})}),Object(f.jsx)(d.a,{gps:g,labels:v})]})})})}}).call(this,a(6).Buffer)},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(4),a(11);var n=a(2);function c(e){var t=e.gps,a=e.labels;return Object(n.jsx)("div",{className:"miniDisplay",children:Object(n.jsx)("div",{className:"miniDisplay__container card",children:Object(n.jsxs)("div",{className:"miniDisplay__container--output ",children:[Object(n.jsx)("div",{className:"miniDisplay__container--output--front",children:t.map((function(e,t){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:"Longitude: ".concat(null!==e.longitude?e.longitude:"")},t),Object(n.jsx)("p",{children:"Latitude: ".concat(null!==e.latitude?e.latitude:"")},t+1),Object(n.jsx)("p",{children:"Accuracy: ".concat(null!==e.accuracy?e.accuracy:"","%")},t+2)]})}))}),Object(n.jsx)("div",{className:"miniDisplay__container--output--back",children:a.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("p",{children:"".concat(e.Name,": ").concat(e.Confidence)},t)})}))})]})})})}}},[[483,1,2]]]);
//# sourceMappingURL=main.98470ac7.chunk.js.map